// SO BELOW, WE ARE CREATING A TRIGGER AND SET ITS NAME
// WE SET THIS TRIGGER BEFORE INSERTION
// SO IT WILL FIRE UP BEFORE EVERY NEW VALUE INSERTION FROM NOW ON
//I DECLARE TWO VARIABLES INSIDE THIS TRIGGER
//ONE OF THEM IS FOR THE LANGUAGE COUNT
//AND THE OTHER ONE IS FOR THE MESSAGE THAT WE ARE GOING TO SEND AFTER INSERTION
//BY ADDING THE NEW COUNTRYCODE, I WANT TO TARGET THE LANGUAGE BASED ON NEWLY INSERTED COUNTRYCODE
//THEN I ADD A AN IF STATEMENT
//ACCORDING TO THIS CONDITION IF THE VARIABLE langNumber IS EQUAL OR GREATER THAN 10
//A MESSAGE WILL OCCUR AND ALERT THE USER ABOUT THE SPECIFIED COUNTRY

DELIMITER $$
USE `new_world`$$
DROP TRIGGER IF EXISTS langLimit;
CREATE TRIGGER langLimit 
BEFORE INSERT 
ON countrylanguage 
FOR EACH ROW
BEGIN
DECLARE message VARCHAR(100);
DECLARE langNumber INT(100);
SET langNumber = (SELECT count(languge) FROM countrylanguage WHERE countrycode = NEW.countrycode);
IF langNumber >= 10 THEN
SET message = "WARNING! The country you've selected has more than 9 languages now!";
END IF;
END $$
DELIMITER ;